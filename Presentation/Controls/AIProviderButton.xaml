<?xml version="1.0" encoding="utf-8" ?>
<ContentView
    x:Class="QuickPrompt.Controls.AIProviderButton"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    x:Name="Root">

    <Border
        Padding="0"
        BackgroundColor="{Binding ProviderColor, Source={x:Reference Root}}"
        HeightRequest="60"
        StrokeThickness="0">
        <Border.StrokeShape>
            <RoundRectangle CornerRadius="8" />
        </Border.StrokeShape>

        <!--  Shadow - Theme Aware  -->
        <Border.Shadow>
            <Shadow
                Brush="{AppThemeBinding Light={StaticResource AppBlackLight}, Dark=#000000}"
                Opacity="0.15"
                Radius="8"
                Offset="0,2" />
        </Border.Shadow>

        <!--  Tap Gesture  -->
        <Border.GestureRecognizers>
            <TapGestureRecognizer Command="{Binding Command, Source={x:Reference Root}}" CommandParameter="{Binding CommandParameter, Source={x:Reference Root}}" />
        </Border.GestureRecognizers>

        <Grid
            Padding="16,12"
            ColumnDefinitions="Auto,*,Auto"
            ColumnSpacing="12">

            <!--  Provider Logo/Icon  -->
            <Image
                Grid.Column="0"
                Aspect="AspectFit"
                HeightRequest="32"
                IsVisible="{Binding ShowIcon, Source={x:Reference Root}}"
                Source="{Binding ProviderIcon, Source={x:Reference Root}}"
                VerticalOptions="Center"
                WidthRequest="32" />

            <!--  Fallback Icon (Material Icon)  -->
            <Label
                Grid.Column="0"
                FontFamily="MaterialIconsOutlined-Regular"
                FontSize="32"
                IsVisible="{Binding ShowMaterialIcon, Source={x:Reference Root}}"
                Text="{Binding ProviderMaterialIcon, Source={x:Reference Root}}"
                TextColor="White"
                VerticalOptions="Center" />

            <!--  Provider Name & Description  -->
            <VerticalStackLayout
                Grid.Column="1"
                Spacing="2"
                VerticalOptions="Center">
                <Label
                    FontAttributes="Bold"
                    FontFamily="Nasa21"
                    FontSize="16"
                    Text="{Binding ProviderName, Source={x:Reference Root}}"
                    TextColor="White" />
                <Label
                    IsVisible="{Binding ShowDescription, Source={x:Reference Root}}"
                    Opacity="0.9"
                    FontFamily="Nasa21"
                    FontSize="12"
                    Text="{Binding ProviderDescription, Source={x:Reference Root}}"
                    TextColor="White" />
            </VerticalStackLayout>

            <!--  Status Indicator / Badge  -->
            <Border
                Grid.Column="2"
                Padding="8,4"
                BackgroundColor="{StaticResource Success}"
                IsVisible="{Binding ShowBadge, Source={x:Reference Root}}"
                VerticalOptions="Center">
                <Border.StrokeShape>
                    <RoundRectangle CornerRadius="4" />
                </Border.StrokeShape>
                <Label
                    FontAttributes="Bold"
                    FontFamily="Nasa21"
                    FontSize="12"
                    Text="{Binding BadgeText, Source={x:Reference Root}}"
                    TextColor="White" />
            </Border>

            <!--  Arrow Icon  -->
            <Label
                Grid.Column="2"
                FontFamily="MaterialIconsOutlined-Regular"
                FontSize="24"
                IsVisible="{Binding ShowArrow, Source={x:Reference Root}}"
                Text="&#xe5cc;"
                TextColor="White"
                VerticalOptions="Center" />

        </Grid>
    </Border>

</ContentView>
